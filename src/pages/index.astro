---
import Layout from '../layouts/Layout.astro'
import Header from '../components/preact/Header.tsx'
import Hero from '../components/astro/Hero.astro'
import { Image } from 'astro:assets'

const services = [
  {
    id: 1,
    title: 'Mobile Detailing',
    slug: 'mobile-detailing',
    description:
      'Professional detailing services that come to you. State-of-the-art equipment and premium products delivered to your location.',
    image: '/images/services/car-detailing.jpg',
    alt: 'Mobile Detailing Service',
  },
  {
    id: 3,
    title: 'Paint Correction',
    slug: 'paint-correction',
    description:
      'Multi-stage process that eliminates swirl marks and scratches, restoring your vehicle to factory-perfect finish.',
    image: '/images/services/paint-correction.jpg',
    alt: 'Paint Correction Service',
  },
  {
    id: 2,
    title: 'Ceramic Coating',
    slug: 'ceramic-coating',
    description:
      'Advanced nanotechnology protection that creates an invisible armor for your vehicle, enhancing shine and durability.',
    image: '/images/services/ceramic-coating.jpg',
    alt: 'Ceramic Coating Service',
  },
]
---

<Layout title='Driven Stage Detailing - Home'>
  <Header client:load />
  <Hero />

  <!-- Services Preview Section -->
  <section id='services' class='py-20 bg-white'>
    <div class='container mx-auto px-6'>
      <h2
        class='text-4xl md:text-5xl text-gradient-primary font-bold text-center font-barlow mb-16 max-w-fit mx-auto'
      >
        Our Services
      </h2>

      <ul class='grid lg:grid-cols-3 gap-12 max-w-7xl mx-auto'>
        {
          services.map((service) => (
            <li class='group cursor-pointer relative overflow-hidden rounded-2xl aspect-[3/4] hover:shadow-2xl transition-all duration-500'>
              <Image
                width={600}
                height={400}
                src={service.image}
                alt={service.alt}
                class='absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-110'
              />

              <div class='absolute inset-0 transition-colors duration-300 bg-gradient-to-t from-black via-black/50 to-transparent  group-hover:via-black/80' />

              {/* Service Title */}

              <div class='absolute inset-0 flex flex-col justify-end p-8'>
                <h3 class='text-3xl font-bold text-white mb-4 font-barlow transform transition-transform duration-300'>
                  {service.title}
                </h3>

                {/* Service Description */}

                <div class=''>
                  <p class='text-zinc-300 leading-relaxed mb-4'>
                    {service.description}
                  </p>

                  {/* Service View Detail Link */}

                  <a
                    href={`/services/${service.slug}`}
                    class='btn btn-primary btn-sm inline-flex items-center'
                  >
                    VIEW DETAIL
                    <svg
                      class='ml-2 w-4 h-4 transition-transform duration-300 group-hover:translate-x-1'
                      fill='none'
                      stroke='currentColor'
                      viewBox='0 0 24 24'
                    >
                      <path
                        stroke-linecap='round'
                        stroke-linejoin='round'
                        stroke-width='2'
                        d='M9 5l7 7-7 7'
                      />
                    </svg>
                  </a>
                </div>
              </div>
            </li>
          ))
        }
      </ul>
    </div>
  </section>

  <!-- Why Choose Us Section -->
  <section class='py-20 bg-muted-blue'>
    <div class='container mx-auto px-6'>
      <h2
        class='text-4xl md:text-5xl font-bold text-center font-barlow text-primary mb-16 text-gradient-primary'
      >
        Why Choose Us?
      </h2>

      <div class='space-y-16'>
        <!-- Mobile Detailing Trailer -->
        <div class='grid lg:grid-cols-2 gap-12 lg:gap-16 items-center'>
          <div class='lg:pl-8'>
            <h3 class='text-3xl font-bold text-primary mb-6 font-barlow'>
              Mobile Service at Your Location
            </h3>
            <p class='text-foreground mb-6 leading-relaxed text-lg'>
              We bring our professional service directly to your location. Our
              fully equipped mobile truck features state-of-the-art technology,
              independent electrical system, deionized spot-free water, and all
              the premium products needed. No need to leave your home or office
              - we handle everything on-site for your convenience.
            </p>
            <button class='btn btn-primary btn-base'> Book Now </button>
          </div>

          <div
            class='relative overflow-hidden rounded-2xl view-animate-[--subjectReveal] animate-fade-in-left animate-range-[entry_50%_contain_85%]'
          >
            <Image
              width={600}
              height={400}
              src='/images/features/mobile-detailing-trailer.jpg'
              alt='Mobile Detailing Trailer'
              class='w-full h-[400px] object-cover'
            />
          </div>
        </div>

        <!-- Trained Experts -->
        <div class='grid lg:grid-cols-2 gap-12 lg:gap-16 items-center'>
          <div
            class='lg:order-1 relative view-animate-[--subjectReveal] animate-fade-in-right overflow-hidden rounded-2xl'
          >
            <Image
              width={600}
              height={400}
              src='/images/features/profesional-technicians.jpg'
              alt='Trained Experts at Work'
              class='w-full h-[400px] object-cover'
            />
          </div>

          <div class='lg:order-2 lg:pr-8'>
            <h3 class='text-3xl font-bold text-primary mb-6 font-barlow'>
              Certified Specialists
            </h3>
            <p class='text-foreground mb-6 leading-relaxed text-lg'>
              Our team consists of highly trained and certified technicians in
              every service area. Each team member receives continuous training
              in the latest detailing techniques, paint correction methods, and
              ceramic coating applications. Your vehicle will be in expert hands
              who understand the specific needs of every surface and material.
            </p>
          </div>
        </div>

        <!-- Quality & Excellence -->
        <div class='grid lg:grid-cols-2 gap-12 lg:gap-16 items-center'>
          <div
            class='lg:order-2 relative view-animate-[--subjectReveal] animate-fade-in-left overflow-hidden rounded-2xl'
          >
            <Image
              width={600}
              height={400}
              src='/images/features/car-washing.jpg'
              alt='Quality & Excellence in Service'
              class='w-full h-[400px] object-cover'
            />
          </div>

          <div class='lg:order-1 lg:pl-8'>
            <h3 class='text-3xl font-bold text-primary mb-6 font-barlow'>
              Quality & Excellence
            </h3>
            <p class='text-foreground mb-6 leading-relaxed text-lg'>
              We implement the highest quality standards in every service. We
              use only premium products from world-renowned brands, follow
              strict cleaning protocols, and apply proven techniques that
              guarantee exceptional results. Every vehicle receives the same
              careful attention to detail, regardless of make or model.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact Section with Car Animation -->
  <section class='relative py-20 bg-dark overflow-hidden'>
    <!-- Animated Car Background -->
    <div
      id='car-animation'
      class='absolute inset-0 opacity-30 transition-all duration-800 ease-out transform translate-x-full scale-75'
    >
      <div
        id='contact'
        class='absolute right-0 top-1/2 -translate-y-1/2 w-full h-full'
      >
        <img
          src='/images/yellow-sport-car.png'
          alt='Car approaching'
          class='w-full h-full object-cover object-center'
        />
        <div
          class='absolute inset-0 bg-gradient-to-l from-transparent via-dark/50 to-dark'
        >
        </div>
      </div>
    </div>

    <!-- Contact Form Container -->
    <div class='container mx-auto px-6 relative z-10 h-full flex items-center'>
      <div
        class='flex flex-col lg:flex-row items-center lg:justify-around w-full min-h-[100dvh]'
      >
        <!-- Left Side - Giant Title -->
        <div
          class='flex flex-col text-center lg:text-left pt-2 justify-center h-full'
        >
          <h2
            id='giant-title'
            class='text-6xl md:text-7xl lg:text-8xl xl:text-9xl font-bold font-barlow text-white leading-none opacity-0 transform translate-y-6 transition-all duration-800 ease-out'
          >
            Get Your
            <span class='text-gradient-primary block'>Free Quote</span>
          </h2>
          <p
            id='subtitle'
            class='text-muted text-xl md:text-2xl mt-10 lg:mt-14 max-w-2xl opacity-0 transform translate-y-8 transition-all duration-800 ease-out delay-300'
          >
            Ready to transform your vehicle with professional detailing?
          </p>
        </div>

        <!-- Contact Form - Right Side -->
        <div
          class='flex flex-col justify-center h-full w-full max-w-3xl lg:max-w-md xl:max-w-xl mt-10 lg:mt-0'
        >
          <!-- Contact Form with Blur Background -->
          <div
            class='bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20'
          >
            <form class='space-y-4'>
              <!-- Name -->
              <div>
                <label for='name' class='block text-light font-medium mb-1'>
                  Full Name *
                </label>
                <input
                  type='text'
                  id='name'
                  name='name'
                  required
                  class='w-full px-3 py-2 bg-light border border-muted rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all text-sm text-foreground'
                  placeholder='Enter your full name'
                />
              </div>

              <!-- Email -->
              <div>
                <label for='email' class='block text-light font-medium mb-1'>
                  Email Address *
                </label>
                <input
                  type='email'
                  id='email'
                  name='email'
                  required
                  class='w-full px-3 py-2 bg-light border border-muted rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all text-sm text-foreground'
                  placeholder='Enter your email'
                />
              </div>

              <!-- Phone -->
              <div>
                <label for='phone' class='block text-light font-medium mb-1'>
                  Phone Number
                </label>
                <input
                  type='tel'
                  id='phone'
                  name='phone'
                  class='w-full px-3 py-2 bg-light border border-muted rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all text-sm text-foreground'
                  placeholder='Enter your phone number'
                />
              </div>

              <!-- Service -->
              <div>
                <label for='service' class='block text-light font-medium mb-1'>
                  Service Interested In
                </label>
                <select
                  id='service'
                  name='service'
                  class='w-full px-3 py-2 bg-light border border-muted rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all text-sm text-foreground'
                >
                  <option value=''>Select a service</option>
                  <option value='mobile-detailing'>Mobile Detailing</option>
                  <option value='paint-correction'>Paint Correction</option>
                  <option value='ceramic-coating'>Ceramic Coating</option>
                  <option value='multiple'>Multiple Services</option>
                </select>
              </div>

              <!-- Message -->
              <div>
                <label for='message' class='block text-light font-medium mb-1'>
                  Additional Details
                </label>
                <textarea
                  id='message'
                  name='message'
                  rows='3'
                  class='w-full px-3 py-2 bg-light border border-muted rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all resize-none text-sm text-foreground'
                  placeholder='Tell us about your vehicle and service preferences...'
                ></textarea>
              </div>

              <!-- Submit Button -->
              <div class='text-center pt-2'>
                <button type='submit' class='w-full btn btn-primary btn-base'>
                  Get My Free Quote
                  <svg
                    class='ml-2 w-4 h-4'
                    fill='none'
                    stroke='currentColor'
                    viewBox='0 0 24 24'
                  >
                    <path
                      stroke-linecap='round'
                      stroke-linejoin='round'
                      stroke-width='2'
                      d='M12 19l9 2-9-18-9 18 9-2zm0 0v-8'></path>
                  </svg>
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- JavaScript for Car Animation -->
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const carElement = document.getElementById('car-animation')
        const giantTitle = document.getElementById('giant-title')
        const subtitle = document.getElementById('subtitle')
        const contactSection = document.querySelector('section:last-of-type')

        if (!carElement || !contactSection || !giantTitle || !subtitle) return

        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                // Car enters the scene
                carElement.classList.remove('translate-x-full', 'scale-75')
                carElement.classList.add('translate-x-0', 'scale-100')
                carElement.style.opacity = '0.3'

                // Animate giant title and subtitle
                setTimeout(() => {
                  giantTitle.classList.remove('opacity-0', 'translate-y-8')
                  giantTitle.classList.add('opacity-100', 'translate-y-0')
                }, 200)

                setTimeout(() => {
                  subtitle.classList.remove('opacity-0', 'translate-y-8')
                  subtitle.classList.add('opacity-100', 'translate-y-0')
                }, 500)
              } else {
                // Car exits the scene
                carElement.classList.add('translate-x-full', 'scale-75')
                carElement.classList.remove('translate-x-0', 'scale-100')
                carElement.style.opacity = '0.1'

                // Hide title and subtitle
                giantTitle.classList.add('opacity-0', 'translate-y-8')
                giantTitle.classList.remove('opacity-100', 'translate-y-0')

                subtitle.classList.add('opacity-0', 'translate-y-8')
                subtitle.classList.remove('opacity-100', 'translate-y-0')
              }
            })
          },
          {
            threshold: 0.3,
            rootMargin: '0px 0px -10% 0px',
          },
        )

        observer.observe(contactSection)
      })
    </script>
  </section>
</Layout>
